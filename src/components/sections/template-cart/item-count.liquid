{% assign hasProtect = false %}
{% assign hasRush = false %}

{% for item in cart.items %}
  {% if item.product.id == settings.protect_order_product.id %}
    {% assign hasProtect = true %}
  {% endif %} 

  {% if item.product.id == settings.rush_order_product.id %}
    {% assign hasRush = true %}
  {% endif %} 
{% endfor %}

{% if hasProtect and hasRush %}
  {{ cart.item_count | minus: 2 }}
{% elsif hasProtect or hasRush %}
  {{ cart.item_count | minus: 1 }}
{% else %}
  {{ cart.item_count }}
{% endif %}